import i18n from 'i18next';
import { initReactI18next } from 'react-i18next';
import LanguageDetector from 'i18next-browser-languagedetector';

// Traduções em português
const ptTranslations = {
  common: {
    loading: 'Carregando...',
    error: 'Erro',
    success: 'Sucesso',
    cancel: 'Cancelar',
    confirm: 'Confirmar',
    save: 'Salvar',
    edit: 'Editar',
    delete: 'Excluir',
    back: 'Voltar',
    next: 'Próximo',
    previous: 'Anterior',
    close: 'Fechar',
    open: 'Abrir',
    search: 'Buscar',
    filter: 'Filtrar',
    refresh: 'Atualizar',
    retry: 'Tentar Novamente',
    goHome: 'Ir para o Início',
    reloadPage: 'Recarregar Página',
  },
  auth: {
    login: 'Entrar',
    logout: 'Sair',
    register: 'Cadastrar',
    signUp: 'Cadastrar-se',
    email: 'E-mail',
    password: 'Senha',
    confirmPassword: 'Confirmar Senha',
    forgotPassword: 'Esqueceu a senha?',
    rememberMe: 'Lembrar de mim',
    alreadyHaveAccount: 'Já tem uma conta?',
    dontHaveAccount: 'Não tem uma conta?',
    loginTitle: 'Entrar na sua conta',
    registerTitle: 'Criar nova conta',
    loginSuccess: 'Login realizado com sucesso!',
    registerSuccess: 'Cadastro realizado com sucesso!',
    loginError: 'Erro ao fazer login. Verifique suas credenciais.',
    registerError: 'Erro ao fazer cadastro. Tente novamente.',
    passwordMismatch: 'As senhas não coincidem',
    invalidEmail: 'E-mail inválido',
    weakPassword: 'A senha deve ter pelo menos 6 caracteres',
    emailRequired: 'E-mail é obrigatório',
    passwordRequired: 'Senha é obrigatória',
  },
  booking: {
    title: 'Agendamento',
    bookAppointment: 'Agendar Horário',
    selectBarber: 'Selecionar Barbeiro',
    selectService: 'Selecionar Serviço',
    selectDate: 'Selecionar Data',
    selectTime: 'Selecionar Horário',
    clientData: 'Dados do Cliente',
    confirmBooking: 'Confirmar Agendamento',
    bookingSuccess: 'Agendamento realizado com sucesso!',
    bookingError: 'Erro ao realizar agendamento. Tente novamente.',
    appointmentCancelled: 'Agendamento cancelado com sucesso!',
    appointmentUpdated: 'Agendamento atualizado com sucesso!',
    noAvailableSlots: 'Nenhum horário disponível para esta data',
    selectClientName: 'Digite seu nome completo',
    selectClientPhone: '(11) 99999-9999',
    clientNameRequired: 'Nome do cliente é obrigatório',
    clientPhoneRequired: 'Telefone do cliente é obrigatório',
    invalidPhone: 'Telefone inválido',
    serviceDuration: '{{duration}} minutos',
    servicePrice: 'R$ {{price}}',
    appointmentDate: 'Data: {{date}}',
    appointmentTime: 'Horário: {{time}}',
    barberName: 'Barbeiro: {{name}}',
  },
  dashboard: {
    title: 'Dashboard',
    barberDashboard: 'Dashboard do Barbeiro',
    adminDashboard: 'Dashboard Administrativo',
    statistics: 'Estatísticas',
    totalAppointments: 'Total de Agendamentos',
    completedAppointments: 'Agendamentos Completados',
    cancelledAppointments: 'Agendamentos Cancelados',
    totalRevenue: 'Receita Total',
    averageRating: 'Avaliação Média',
    appointmentsByDay: 'Agendamentos por Dia da Semana',
    popularTimes: 'Horários Mais Populares',
    serviceStats: 'Estatísticas por Serviço',
    appointmentsTrend: 'Tendência de Agendamentos',
    dateFilters: 'Filtros de Período',
    startDate: 'Data Inicial',
    endDate: 'Data Final',
    update: 'Atualizar',
    periodSelected: 'Período selecionado',
    of5Stars: 'de 5 estrelas',
    serviceDetails: 'Detalhes por Serviço',
    appointments: 'agendamentos',
    loadingDashboard: 'Carregando dashboard...',
    dashboardError: 'Erro ao carregar dashboard',
    tryAgain: 'Tentar Novamente',
  },
  errors: {
    general: 'Ocorreu um erro inesperado',
    network: 'Erro de conexão. Verifique sua internet.',
    unauthorized: 'Acesso não autorizado',
    forbidden: 'Acesso negado',
    notFound: 'Página não encontrada',
    serverError: 'Erro interno do servidor',
    validation: 'Dados inválidos',
    required: 'Campo obrigatório',
    invalidFormat: 'Formato inválido',
    minLength: 'Mínimo de {{min}} caracteres',
    maxLength: 'Máximo de {{max}} caracteres',
    emailInvalid: 'E-mail inválido',
    passwordWeak: 'Senha muito fraca',
    passwordMismatch: 'Senhas não coincidem',
  },
  navigation: {
    home: 'Início',
    booking: 'Agendamento',
    dashboard: 'Dashboard',
    profile: 'Perfil',
    settings: 'Configurações',
    logout: 'Sair',
  },
  services: {
    title: 'Serviços',
    addService: 'Adicionar Serviço',
    editService: 'Editar Serviço',
    deleteService: 'Excluir Serviço',
    serviceName: 'Nome do Serviço',
    serviceDuration: 'Duração (minutos)',
    servicePrice: 'Preço (R$)',
    selectService: 'Selecionar',
    serviceAdded: 'Serviço adicionado com sucesso!',
    serviceUpdated: 'Serviço atualizado com sucesso!',
    serviceDeleted: 'Serviço excluído com sucesso!',
  },
  barbers: {
    title: 'Barbeiros',
    addBarber: 'Adicionar Barbeiro',
    editBarber: 'Editar Barbeiro',
    deleteBarber: 'Excluir Barbeiro',
    barberName: 'Nome do Barbeiro',
    barberSpecialty: 'Especialidade',
    barberExperience: 'Anos de Experiência',
    barberPhone: 'Telefone',
    selectBarber: 'Selecionar Barbeiro',
    barberAdded: 'Barbeiro adicionado com sucesso!',
    barberUpdated: 'Barbeiro atualizado com sucesso!',
    barberDeleted: 'Barbeiro excluído com sucesso!',
  },
};

// Traduções em inglês
const enTranslations = {
  common: {
    loading: 'Loading...',
    error: 'Error',
    success: 'Success',
    cancel: 'Cancel',
    confirm: 'Confirm',
    save: 'Save',
    edit: 'Edit',
    delete: 'Delete',
    back: 'Back',
    next: 'Next',
    previous: 'Previous',
    close: 'Close',
    open: 'Open',
    search: 'Search',
    filter: 'Filter',
    refresh: 'Refresh',
    retry: 'Try Again',
    goHome: 'Go to Home',
    reloadPage: 'Reload Page',
  },
  auth: {
    login: 'Login',
    logout: 'Logout',
    register: 'Register',
    signUp: 'Sign Up',
    email: 'Email',
    password: 'Password',
    confirmPassword: 'Confirm Password',
    forgotPassword: 'Forgot password?',
    rememberMe: 'Remember me',
    alreadyHaveAccount: 'Already have an account?',
    dontHaveAccount: "Don't have an account?",
    loginTitle: 'Sign in to your account',
    registerTitle: 'Create new account',
    loginSuccess: 'Login successful!',
    registerSuccess: 'Registration successful!',
    loginError: 'Login error. Check your credentials.',
    registerError: 'Registration error. Try again.',
    passwordMismatch: 'Passwords do not match',
    invalidEmail: 'Invalid email',
    weakPassword: 'Password must have at least 6 characters',
    emailRequired: 'Email is required',
    passwordRequired: 'Password is required',
  },
  booking: {
    title: 'Booking',
    bookAppointment: 'Book Appointment',
    selectBarber: 'Select Barber',
    selectService: 'Select Service',
    selectDate: 'Select Date',
    selectTime: 'Select Time',
    clientData: 'Client Data',
    confirmBooking: 'Confirm Booking',
    bookingSuccess: 'Booking successful!',
    bookingError: 'Booking error. Try again.',
    appointmentCancelled: 'Appointment cancelled successfully!',
    appointmentUpdated: 'Appointment updated successfully!',
    noAvailableSlots: 'No available slots for this date',
    selectClientName: 'Enter your full name',
    selectClientPhone: '(11) 99999-9999',
    clientNameRequired: 'Client name is required',
    clientPhoneRequired: 'Client phone is required',
    invalidPhone: 'Invalid phone number',
    serviceDuration: '{{duration}} minutes',
    servicePrice: '${{price}}',
    appointmentDate: 'Date: {{date}}',
    appointmentTime: 'Time: {{time}}',
    barberName: 'Barber: {{name}}',
  },
  dashboard: {
    title: 'Dashboard',
    barberDashboard: 'Barber Dashboard',
    adminDashboard: 'Admin Dashboard',
    statistics: 'Statistics',
    totalAppointments: 'Total Appointments',
    completedAppointments: 'Completed Appointments',
    cancelledAppointments: 'Cancelled Appointments',
    totalRevenue: 'Total Revenue',
    averageRating: 'Average Rating',
    appointmentsByDay: 'Appointments by Day of Week',
    popularTimes: 'Most Popular Times',
    serviceStats: 'Service Statistics',
    appointmentsTrend: 'Appointments Trend',
    dateFilters: 'Date Filters',
    startDate: 'Start Date',
    endDate: 'End Date',
    update: 'Update',
    periodSelected: 'Selected period',
    of5Stars: 'of 5 stars',
    serviceDetails: 'Service Details',
    appointments: 'appointments',
    loadingDashboard: 'Loading dashboard...',
    dashboardError: 'Error loading dashboard',
    tryAgain: 'Try Again',
  },
  errors: {
    general: 'An unexpected error occurred',
    network: 'Connection error. Check your internet.',
    unauthorized: 'Unauthorized access',
    forbidden: 'Access denied',
    notFound: 'Page not found',
    serverError: 'Internal server error',
    validation: 'Invalid data',
    required: 'Required field',
    invalidFormat: 'Invalid format',
    minLength: 'Minimum {{min}} characters',
    maxLength: 'Maximum {{max}} characters',
    emailInvalid: 'Invalid email',
    passwordWeak: 'Password too weak',
    passwordMismatch: 'Passwords do not match',
  },
  navigation: {
    home: 'Home',
    booking: 'Booking',
    dashboard: 'Dashboard',
    profile: 'Profile',
    settings: 'Settings',
    logout: 'Logout',
  },
  services: {
    title: 'Services',
    addService: 'Add Service',
    editService: 'Edit Service',
    deleteService: 'Delete Service',
    serviceName: 'Service Name',
    serviceDuration: 'Duration (minutes)',
    servicePrice: 'Price ($)',
    selectService: 'Select',
    serviceAdded: 'Service added successfully!',
    serviceUpdated: 'Service updated successfully!',
    serviceDeleted: 'Service deleted successfully!',
  },
  barbers: {
    title: 'Barbers',
    addBarber: 'Add Barber',
    editBarber: 'Edit Barber',
    deleteBarber: 'Delete Barber',
    barberName: 'Barber Name',
    barberSpecialty: 'Specialty',
    barberExperience: 'Years of Experience',
    barberPhone: 'Phone',
    selectBarber: 'Select Barber',
    barberAdded: 'Barber added successfully!',
    barberUpdated: 'Barber updated successfully!',
    barberDeleted: 'Barber deleted successfully!',
  },
};

// Configuração do i18next
i18n
  .use(LanguageDetector)
  .use(initReactI18next)
  .init({
    resources: {
      pt: {
        translation: ptTranslations,
      },
      en: {
        translation: enTranslations,
      },
    },
    fallbackLng: 'pt',
    debug: process.env.NODE_ENV === 'development',
    
    interpolation: {
      escapeValue: false, // React já escapa valores por padrão
    },
    
    detection: {
      order: ['localStorage', 'navigator', 'htmlTag'],
      caches: ['localStorage'],
    },
  });

export default i18n;
